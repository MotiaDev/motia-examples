[
  {
    "id": "step-configuration",
    "title": "Step Configuration",
    "description": "API step configuration for content submission endpoint with flexible schema for text and image content.",
    "lines": ["11-20"]
  },
  {
    "id": "api-configuration",
    "title": "API Endpoint Definition",
    "description": "POST endpoint at /content/submit that accepts content moderation requests and emits events for async processing.",
    "lines": ["15-16"]
  },
  {
    "id": "request-body",
    "title": "Request Body Schema",
    "description": "The bodySchema defines the structure for content submissions, supporting text, images, user identification, and platform tracking.",
    "lines": ["17"]
  },
  {
    "id": "event-driven-architecture",
    "title": "Event Emission",
    "description": "The API emits 'content.submitted' events to trigger the moderation workflow asynchronously.",
    "lines": ["18", "39-49"]
  },
  {
    "id": "handler",
    "title": "Request Handler",
    "description": "The handler processes content submissions, generates unique IDs, and triggers the moderation workflow via events.",
    "lines": ["22-58"]
  },
  {
    "id": "submission-id-generation",
    "title": "Submission ID Generation",
    "description": "Creates unique submission identifiers using timestamp and random string for tracking throughout the workflow.",
    "lines": ["26-29"]
  },
  {
    "id": "logger",
    "title": "Structured Logging",
    "description": "Logs submission details with structured data including content types and user information for observability.",
    "lines": ["31-37"]
  },
  {
    "id": "event-emission",
    "title": "Workflow Trigger",
    "description": "Emits structured event data to start the AI analysis and moderation workflow asynchronously.",
    "lines": ["39-49"]
  },
  {
    "id": "http-response",
    "title": "API Response",
    "description": "Returns confirmation with the submission ID, allowing clients to track their content through the moderation process.",
    "lines": ["51-58"]
  }
]
